<div class="fixed inset-0 flex items-center justify-center bg-black/80 backdrop-blur-sm z-50">
  <div class="relative bg-white rounded-lg shadow-lg w-auto px-5 py-6 mx-5 ">
    
    <!-- Close Button -->
    <button
      class="absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-xl font-bold cursor-pointer"
      (click)="closeModal()"
      aria-label="Fechar modal"
    >
      âœ•
    </button>
    
    <!-- Card Image -->
    <div class="flex justify-center items-center overflow-hidden" *ngIf="arquivoUrl">
      
     <iframe
        *ngIf="isPdf"
        [src]="arquivoUrl | safeUrl"
        class="w-auto h-[500px] rounded border-0"
      ></iframe>

      <div class="flex justify-center items-start overflow-auto max-h-[80vh] w-full custom-scroll">
        <img
          *ngIf="!isPdf"
          [src]="arquivoUrl"
          alt="Documento"
          (click)="toggleZoom()"
          [ngClass]="{
            'max-h-[70vh] w-auto': !isZoomed,
            'max-h-[1000px] w-full object-cover': isZoomed
          }"
          class="rounded transition-all duration-300 cursor-zoom-in shadow-xl"
        />
      </div>
    </div>

    <!-- Approve and disapprove buttons -->
    <div class="flex items-center justify-center gap-4 pt-5">
      <button 
        *ngIf="person.statusCarteirinha !== 'Carteirinha Aprovada'"
        class="bg-green-600 text-white text-sm font-semibold py-2 px-4 rounded-lg hover:bg-green-700  cursor-pointer"
        (click)="openModal('approve')"
      >
        Aprovar
      </button>

      <button 
        class="bg-red-600 text-white text-sm font-semibold py-2 px-4 rounded-lg hover:bg-red-700  cursor-pointer"
        (click)="openModal('disapprove')"
      >
        Recusar
      </button>
    </div>

    <!-- Confirmation Modal -->
     <app-confirmation-modal
      [showModal]="showModal"
      [title]="title"
      [subtitle]="subtitle"
      [personName]="person.nomeCompleto"
      (confirm)="confirmAction($event)"
      (cancel)="closeModal()"
      [actionType]="actionType"
    ></app-confirmation-modal>

  </div>
</div>
